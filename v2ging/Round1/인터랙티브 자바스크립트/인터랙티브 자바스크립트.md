### window 객체

브라우저 창을 대변하면서 자바스크립트에서 최상단에 존재하는 객체이다. 자바스크립트 코드 어느 곳에서나 항상 접근할 수 있는 객체이기 때문에 전역 객체. 영어로는 Global Object라고 부른다. 어떤 프로퍼티나 메소드를 사용하든 결국 전역 객체 내부의 것이기 때문에 앞에 window.를 생략할 수도 있다.

### 자바스크립트로 태그 선택하기

| 메소드                                   | 의미                             | 결과                                                |
| ---------------------------------------- | -------------------------------- | --------------------------------------------------- |
| document.getElementById('id')            | HTML id속성으로 태그 선택하기    | id에 해당하는 태그 하나                             |
| document.getElementsByClassName('class') | HTML class속성으로 태그 선택하기 | class에 해당하는 태그 모음(HTMLCollection)          |
| document.getElementsByTagName('tag')     | HTML 태그 이름으로 태그 선택하기 | tag에 해당하는 태그 모음(HTMLCollection)            |
| document.querySelector('css')            | css 선택자로 태그 선택하기       | css 선택자에 해당하는 태그 중 가장 첫번째 태그 하나 |
| document.querySelectorAll('css')         | css 선택자로 태그 선택하기       | css 선택자에 해당하는 태그 모음(NodeList)           |

### 유사배열

배열과 유사한 객체 (HTMLCollection, NodeList, DOMTokenList, …)

- 특징
  1. 숫자 형태의 indexing이 가능하다 (0부터 시작하는 숫자 형태의 index 존재)
  2. length 프로퍼티가 있다(length 프로퍼티가 없다면 그냥 숫자 형태의 key로 구성된 일반적인 객체라고 볼 수 있다)
  3. 배열의 기본 메소드를 사용할 수 있다
  4. Array.isArray(유사배열)의 리턴값은 false다

### 이벤트 핸들링

이벤트: 웹 페이지에서 발생하는 대부분의 일

- 버튼 클릭, 스크롤, 키보드 입력

이벤트 핸들링: 자바스크립트를 통해 이벤트를 다루는 일
이벤트 핸들러(= 이벤트 리스너): 이벤트가 발생했을 때 구체적인 동작들을 표현한 코드

이벤트 핸들러 등록

1. 자바스크립트로 해당 DOM 객체의 onclick 프로퍼티에 등록하기
2. HTML태그의 onclick 속성에 바로 표시하기

### DOM

DOM(Document Object Model) 문서 객체 모델
: 웹페이지에 나타나는 HTML 문서 전체를 객체로 표현한 것

- 기능
  - 웹 문서의 최상단 객체로 진입점의 역할을 한다.
  - 웹페이지의 내부에 무엇이든 수정 가능하며 새로운 콘텐츠 만들어낼 수 있다.
  - DOM 활용시 js로 HTML 태그를 객체처럼 자유롭게 다룰 수 있다.

DOM 트리

- 각 개체를 노드라고 부름
  - 부모노드-자식노드
  - 형제노드 (같은 계층)
  - 요소노드-텍스트노드(= 요소노드의 자식노드)

### \***\*DOM 이동 시 활용 가능한 프로퍼티\*\***

요소 노드에 대한 이동 프로퍼티

| 프로퍼티                       | 유형         | 결과                                                      |
| ------------------------------ | ------------ | --------------------------------------------------------- |
| element.children               | 자식요소노드 | element의 자식 요소 모음(HTMLCollection)                  |
| element.firstElementChild      | 자식요소노드 | element의 첫 번째 자식 요소 하나                          |
| element.lastElementChild       | 자식요소노드 | element의 마지막 자식 요소 하나                           |
| element.parentElement          | 부모요소노드 | element의 부모 요소 하나                                  |
| element.previousElementSibling | 형제요소노드 | element의 이전(previous) 혹은 좌측(left)에 있는 요소 하나 |
| element.nextElementSibling     | 형제요소노드 | element의 다음(next) 혹은 우측(right)에 있는 요소 하나    |

모든 노드에 대한 이동 프로퍼티

| 프로퍼티             | 유형     | 결과                                                             |
| -------------------- | -------- | ---------------------------------------------------------------- |
| node.childNodes      | 자식노드 | node의 자식 노드 모음(NodeList)                                  |
| node.firstChild      | 자식노드 | node의 첫 번째 자식 노드 하나                                    |
| node.lastChild       | 자식노드 | node의 마지막 자식 노드 하나                                     |
| node.parentNode      | 부모노드 | node의 부모 요소 하나                                            |
| node.previousSibling | 형제노드 | 형제 노드 node의 이전(previous) 혹은 좌측(left)에 있는 노드 하나 |
| node.nextSibling     | 형제노드 | 형제 노드 node의 다음(next) 혹은 우측(right)에 있는 노드 하나    |

- 브라우저가 HTML 코드를 해석할 때 각 코드들은 상황에 맞게 node를 생성하고 DOM 트리를 구성하는데,
  - HTML 태그는 요소 노드가 되고,
  - 문자들은 텍스트 노드,
  - 주석도 주석 노드로 DOM 트리에 반영됩니다.

### \***\*주요 요소 노드 프로퍼티\*\***

innerHTML: 요소 내부의 HTML 코드를 문자열로 리턴 (줄바꿈, 들여쓰기 포함)

- 수정시 내부의 값 완전히 교체됨

outerHTML: 요소 노드 자체의 전체적인 HTML 코드를 문자열로 리턴 (줄바꿈, 들여쓰기 포함)

- 요소 자체가 교체됨

textContent: 요소 안의 내용들 중에서 HTML을 제외하고 텍스트만 리턴(줄바꿈, 들여쓰기 포함), 특수문자도 텍스트로 처리 -> 수정시 내부의 값 완전히 교체됨

### \***\*요소 노드 다루기\*\***

요소 노드 추가하기

1. 요소 노드 만들기
   document.createElement('태그 이름')
2. 요소 노드 꾸미기: textContent, innerHTML, ...
3. 요소 노드 추가하기: Node.prepend, append, after(역순 추가), before(역순 추가) ..

노드 삭제

- Node.remove

노드 이동하기

- Node.append, prepend, after, before 이용

### \***\*HTML 속성 다루기\*\***

속성에 접근하기

- elem.getAttribute('속성')

속성에 추가(수정)하기

- elem.setAttribute('속성', '값')

속성 삭제하기

- elem.removeAttribute('속성')

### \***\*스타일 다루기\*\***

style 프로퍼티

- 속성 접근식 카멜표기법 사용
- style.textDecoration => 테스트에 줄긋기

className

- css에 원하는 스타일 미리 만들어두고 클래스 전체의 스타일을 바꾼다.

classList 프로퍼티

- 클래스의 속성값을 유사배열로 다룬다. 클래스 속성을 하나씩 다룰 수 있다.

toggle

- 제거하고 없으면 추가한다.
- toggle 두번째 파라미터: boolean
  - true - add / false - remove

### 비표준 속성

1. 선택자로 활용
   1. querySelector로 태그를 선택할 때 css 선택자를 활용해서 태그를 선택하는데 활용할 수 있다.
2. 값을 표시할 태그를 구분할 때 활용
   1. 객체 형태의 데이터가 있을 때, 각 프로퍼티 값들이 들어갈 태그를 구분하는데 활용할 수도 있다.
3. 스타일이나 데이터 변경에 활용
   1. getAttribute 메소드를 활용해서 속성값을 가져오고, setAttribute 메소드를 활용해서 속성값을 설정해주는 원리로 이벤트를 통해 실시간으로 스타일을 변경하거나 데이터를 변경하는 데 활용할 수 있다.

### dataset 프로퍼티

data- 로 시작하는 속성은 모두 dataset이라는 프로퍼티에 저장된다.
예를 들어서 data-status라는 속성이 있다면, element.dataset.status라는 프로퍼티에 접근해서 그 값을 가져올 수 있다.

### 이벤트 핸들러 등록하기

**elem.addEventListener(event, handler)**

- 사용시 하나의 이벤트에 여러 이벤트 핸들러를 자유롭게 설정할 수 있어 실제로도 가장 권장되는 이벤트 핸들러이다 (이벤트 핸들러를 등록한 만큼 동작하게 된다.)

### 이벤트 핸들러 삭제하기

addEventListener 메소드를 활용해서 이벤트핸들러를 등록했다면, **elem.removeEventListener(event, handler)**를 통해서 이벤트 핸들러를 삭제할 수 있다.

### 이벤트 객체

- 이벤트 종류
  - 마우스 이벤트, 키보드 이벤트, 포커스 이벤트, 입력 이벤트, 스크롤 이벤트, 윈도우 창 이벤트
- 웹페이지에서 이벤트가 발생하면 관련된 정보를 담은 이벤트 객체가 만들어진다.
- 이벤트 핸들러의 첫 파라미터는 늘 event객체가 전달된다.

### 이벤트 객체 프로퍼티

1. 공통 프로퍼티

   | 프로퍼티      | 설명                                                     |
   | ------------- | -------------------------------------------------------- |
   | type          | 이벤트 이름                                              |
   | target        | 이벤트가 발생한 요소                                     |
   | currentTarget | 이벤트 핸들러가 등록된 요소                              |
   | timeStamp     | 이벤트 발생 시간(페이지가 로드된 이후부터 경과한 밀리초) |
   | bubbles       | 버블링 단계인지 판단하는 값                              |

2. 마우스 이벤트

   | 프로퍼티         | 설명                                               |
   | ---------------- | -------------------------------------------------- |
   | button           | 누른 마우스의 버튼(0 왼쪽, 1 가운데(휠), 2 오른쪽) |
   | clientX, clientY | 마우스 커서의 브라우저 표시 영역에서의 위치        |
   | pageX, pageY     | 마우스 커서의 문서 영역에서의 위치                 |
   | offsetX, offsetY | 마우스 커서의 이벤트 발생한 요소에서의 위치        |
   | screenX, screenY | 마우스 커서의 모니터 화면 영역에서의 위치          |
   | altKey           | 이벤트가 발생할때 alt키를 눌렀는지                 |
   | ctrlKey          | 이벤트가 발생할때 ctrl키를 눌렀는지                |
   | shiftKey         | 이벤트가 발생할때 shift키를 눌렀는지               |
   | metaKey          | 이벤트가 발생할때 meta키를 눌렀는지(cmd 키)        |

3. 키보드 이벤트

   | 프로퍼티 | 설명                                        |
   | -------- | ------------------------------------------- |
   | key      | 누른 키가 가지고 있는 값                    |
   | code     | 누른 키의 물리적인 위치                     |
   | altKey   | 이벤트가 발생할때 alt키를 눌렀는지          |
   | ctrlKey  | 이벤트가 발생할때 ctrl키를 눌렀는지         |
   | shiftKey | 이벤트가 발생할때 shift키를 눌렀는지        |
   | metaKey  | 이벤트가 발생할때 meta키를 눌렀는지(cmd 키) |

등등 존재 ..

### 이벤트 흐름

표준 DOM 이벤트에서 정의한 이벤트 흐름에는 3가지 단계가 있다.

1. 캡처링(capturering) 단계: 이벤트가 하위 요소로 전파되는 단계 (이벤트가 발생하면 가장 먼저, 그리고 버블링의 반대 방향으로 진행되는 이벤트 전파 방식)
2. 타깃 단계: 이벤트가 실제 타깃 요소에 전달되는 단계, 가장 처음 이벤트 핸들러가 동작하게 되는 순간
3. 버블링 단계: 이벤트가 상위 요소로 전파되는 단계, 부모 요소의 핸들러도 작동
   - 캡쳐링 단계에서 부모 요소의 이벤트 핸들러를 동작시켜야 할 경우, 캡쳐링 단계에서 이벤트 핸들러를 동작시키려면, addEventListener에 세번째 프로퍼티에 true 또는 { capture:true }를 전달하면 된다.

### 이벤트 버블링

자식 요소에서 부모 요소로 이벤트가 전파되는 것

이벤트 버블링은 e.stopPropagation 메소드로 전파를 막을 수 있다.

### 이벤트 위임

자식 요소 각각에 이벤트 핸들러를 하나씩 등록할 필요 없이 부모 요소에서 한 번에 자식 요소들에 발생한 이벤트를 관리할 수 있다.

이처럼 이벤트를 다루는 방식을 자식 요소의 이벤트를 부모 요소에 위임한다고 해서 이벤트 위임이라고 부른다.

- 이벤트를 새로 추가할 때마다 이벤트 핸들링을 계속해서 추가해줘야 하는 문제점 -> 이벤트 버블링으로 해결 가능!
  - 부모요소에 이벤트 핸들러 적용

### 브라우저의 기본 동작

각 태그별 또는 상황별로 기본적으로 약속된 동작들이 있다.

이러한 동작들을 막고 싶다면 이벤트 객체의 event.preventDefault 메소드를 통해 막을 수 있다.

### 마우스 버튼 이벤트

- MouseEvent.button
  - 0: 마우스 왼쪽 버튼, 1: 마우스 휠, 2: 마우스 오른쪽 버튼
  - 하나의 동작에 여러 이벤트가 발생할 수 있음! → 각각의 순서 잘 이해해두기
- MouseEvent.type
  - click: 마우스 왼쪽 버튼을 눌렀을 때
  - contextmenu: 마우스 오른쪽 버튼을 눌렀을 때
  - dbclick: 동일한 위치에서 빠르게 두번 click할 때
  - mousedown: 마우스 버튼을 누른 순간
  - mouseup: 마우스 버튼을 뗀 순간

### 마우스 이동 이벤트

- MouseEvent.type
  - mousemove: 마우스 포인터가 이동할 때
  - mouseover: 마우스 포인터가 요소 밖에서 안으로 이동할 때
  - mouseout: 마우스 포인터가 요소 안에서 밖으로 이동할 때
    - mouseover, mouseout
      - 자식 요소의 영역도 계산한다
  - mouseenter: 마우스 포인터가 요소 바깥에서 안쪽으로 들어갈 때
  - mouseleave: 마우스 포인터가 요소 안에서 바깥쪽으로 나갈 때
    - mouseenter, mouseleave
      - 버블링이 일어나지 않는다
      - 자식 요소의 영역을 계산하지 않는다
- MouseEvent.clientX, clientY
  - 화면에 표시되는 창 기준 마우스 포인터 위치
  - 항상 보여지는 화면의 좌측 상단의 모서리 위치 = (0, 0)
- MouseEvent.pageX, pageY
  - 웹 문서 전체 기준 마우스 포인터 위치
- MouseEvent.offsetX, offsetY
  - 이벤트가 발생한 요소 기준 마우스 포인터 위치
  - 항상 대상의 좌측 상단의 모서리 위치 = (0, 0)
- MouseEvent.target
  - 이벤트가 발생한 요소
- MouseEvent.relatedTarget
  - 이벤트가 발생하기 직전(또는 직후)에 마우스가 위치해 있던 요소

### 키보드 이벤트

- KeyboardEvent.type
  - keydown: 키보드 버튼을 누른 순간
  - keypress: 키보드 버튼을 누른 순간
  - keyup: 키보드 버튼을 눌렀다 뗀 순간
- KeyboardEvent.key
  - 이벤트가 발생한 버튼의 값
- KeyboardEvent.code
  - 이벤트가 발생한 버튼의 키보드에서 물리적인 위치

### 포커스 이벤트

- focusin: 요소에 포커스가 되었을 때
- focus: 요소에 포커스가 되었을 때 (버블링 X)
- focusout: 요소에 포커스가 빠져나갈 때
- blur: 요소에 포커스가 빠져나갈 때 (버블링 X)

### 입력 이벤트

- input: 사용자가 입력을 할 때
  - 입력과 관련없는 키 입력 시 반응하지 않음 (esc, shift, ..)
- change: 요소의 값이 변했을 때
  - 시작되기 전 값과 후 최종 입력된 값이 다를 때 반응!!
  - 실제로 값이 변했을 때만 반응
  - input 태그에서 입력 도중 엔터 키 입력 시 입력이 끝났다고 생각해 반응함

### 스크롤 이벤트

- scroll
  - window 객체에 이벤트 핸들러를 등록하고 window 객체의 프로퍼티와 함께 자주 활용된다.
